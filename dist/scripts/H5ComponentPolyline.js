var H5ComponentPolyline=function(t,e){var a=new H5ComponentBase(t,e),n=e.width||2*a.width(),o=e.height||2*a.height(),i=document.createElement("canvas"),r=i.getContext("2d");i.width=r.width=n,i.height=r.height=o,a.append(i);var d=10;r.beginPath(),r.lineWidth=1,r.strokeStyle="#AAAAAA",window.ctx=r;for(var l=0;l<d+1;l++){var h=o/d*l;r.moveTo(0,h),r.lineTo(n,h)}d=e.data.length+1;for(var v=n/d>>0,l=0;l<d+1;l++){var f=n/d*l;if(r.moveTo(f,0),r.lineTo(f,o),e.data[l]){var c=$('<div class="text">');c.text(e.data[l][0]),c.css("width",v/2).css("left",f/2+v/4),a.append(c)}}r.stroke();var i=document.createElement("canvas"),r=i.getContext("2d");i.width=r.width=n,i.height=r.height=o,a.append(i);var s=function(t){r.clearRect(0,0,n,o),r.beginPath(),r.lineWidth=3,r.strokeStyle="#ff8878";var a=0,i=0,d=n/(e.data.length+1);for(l in e.data){var h=e.data[l];a=d*l+d,i=o-h[1]*o*t,r.moveTo(a,i),r.arc(a,i,5,0,2*Math.PI)}r.moveTo(d,o-e.data[0][1]*o*t);for(l in e.data){var h=e.data[l];a=d*l+d,i=o-h[1]*o*t,r.lineTo(a,i)}r.stroke(),r.lineWidth=1,r.strokeStyle="rgba(255,255,255,0)",r.lineTo(a,o),r.lineTo(d,o),r.fillStyle="rgba(255,136,120,0.2)",r.fill();for(l in e.data){var h=e.data[l];a=d*l+d,i=o-h[1]*o*t,r.fillStyle=h[2]?h[2]:"#595959",r.font="22px Arial",r.fillText((100*h[1]>>0)+"%",a-16,i-14)}r.stroke()};return a.on("onLoad",function(){for(var t=0,e=0;e<100;e++)setTimeout(function(){t+=.01,s(t)},10*e+500)}),a.on("onLeave",function(){for(var t=1,e=0;e<100;e++)setTimeout(function(){t-=.01,s(t)},10*e)}),a};